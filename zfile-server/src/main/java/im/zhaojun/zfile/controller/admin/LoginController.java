package im.zhaojun.zfile.controller.admin;import cn.dev33.satoken.stp.StpUtil;import cn.hutool.crypto.SecureUtil;import im.zhaojun.zfile.model.dto.SystemConfigDTO;import im.zhaojun.zfile.model.support.ResultBean;import im.zhaojun.zfile.service.SystemConfigService;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.annotation.Resource;import java.util.Objects;@RestControllerpublic class LoginController {    @Resource    private SystemConfigService systemConfigService;    @PostMapping("/doLogin")    public ResultBean doLogin(String username, String password) {        SystemConfigDTO systemConfig = systemConfigService.getSystemConfig();        if (Objects.equals(username, systemConfig.getUsername())                && Objects.equals(SecureUtil.md5(password), systemConfig.getPassword())) {            StpUtil.login("admin");            return ResultBean.success("登录成功");        }        return ResultBean.error("登录失败");    }    // 查询登录状态，浏览器访问： http://localhost:8081/user/isLogin    @RequestMapping("isLogin")    public String isLogin() {        return "当前会话是否登录：" + StpUtil.isLogin();    }    @GetMapping("/logout")    public ResultBean logout() {        StpUtil.logout();        return ResultBean.success("注销成功");    }}